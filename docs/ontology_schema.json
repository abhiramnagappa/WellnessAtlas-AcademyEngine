{
  "$defs": {
    "Attachment": {
      "properties": {
        "filename": {
          "description": "File name, e.g. workbook.pdf",
          "title": "Filename",
          "type": "string"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "What is this attachment?",
          "title": "Description"
        },
        "path": {
          "description": "Relative path in repo: courses/.../attachments/*.pdf",
          "title": "Path",
          "type": "string"
        }
      },
      "required": [
        "filename",
        "path"
      ],
      "title": "Attachment",
      "type": "object"
    },
    "ChapterMarker": {
      "properties": {
        "timestamp": {
          "description": "Format: mm:ss or hh:mm:ss",
          "title": "Timestamp",
          "type": "string"
        },
        "title": {
          "description": "Chapter title",
          "title": "Title",
          "type": "string"
        }
      },
      "required": [
        "timestamp",
        "title"
      ],
      "title": "ChapterMarker",
      "type": "object"
    },
    "Lesson": {
      "properties": {
        "id": {
          "description": "Human readable unique ID for the lesson",
          "title": "Id",
          "type": "string"
        },
        "number": {
          "description": "Lesson order number (e.g. '01.01', '03.14')",
          "title": "Number",
          "type": "string"
        },
        "title": {
          "description": "Complete title including course + section if desired",
          "title": "Title",
          "type": "string"
        },
        "type": {
          "description": "Type of the primary lesson content",
          "enum": [
            "video",
            "audio",
            "text"
          ],
          "title": "Type",
          "type": "string"
        },
        "video_url": {
          "anyOf": [
            {
              "format": "uri",
              "maxLength": 2083,
              "minLength": 1,
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Full URL to video/audio/text hosted on Vimeo, SharePoint, etc.",
          "title": "Video Url"
        },
        "duration_seconds": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Length of the lesson in seconds, optional",
          "title": "Duration Seconds"
        },
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Short description of the lesson",
          "title": "Description"
        },
        "attachments": {
          "description": "Optional supporting materials",
          "items": {
            "$ref": "#/$defs/Attachment"
          },
          "title": "Attachments",
          "type": "array"
        },
        "quiz": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional reference to a quiz. Use a human readable ID.",
          "title": "Quiz"
        },
        "transcript_path": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Path to transcript markdown, e.g. courses/.../transcript.md",
          "title": "Transcript Path"
        },
        "chapter_markers": {
          "anyOf": [
            {
              "items": {
                "$ref": "#/$defs/ChapterMarker"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Optional list of chapter markers for navigation",
          "title": "Chapter Markers"
        }
      },
      "required": [
        "id",
        "number",
        "title",
        "type"
      ],
      "title": "Lesson",
      "type": "object"
    },
    "Section": {
      "properties": {
        "id": {
          "description": "Human readable unique ID for the section",
          "title": "Id",
          "type": "string"
        },
        "number": {
          "description": "Section order number (e.g. '1', '2')",
          "title": "Number",
          "type": "string"
        },
        "title": {
          "description": "Section title",
          "title": "Title",
          "type": "string"
        },
        "lessons": {
          "description": "Lessons",
          "items": {
            "$ref": "#/$defs/Lesson"
          },
          "title": "Lessons",
          "type": "array"
        }
      },
      "required": [
        "id",
        "number",
        "title"
      ],
      "title": "Section",
      "type": "object"
    }
  },
  "properties": {
    "id": {
      "description": "Human readable unique ID for the course",
      "title": "Id",
      "type": "string"
    },
    "title": {
      "description": "Course title",
      "title": "Title",
      "type": "string"
    },
    "tagline": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "One-line value proposition for the course",
      "title": "Tagline"
    },
    "description": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Course description",
      "title": "Description"
    },
    "sections": {
      "description": "List of sections in order",
      "items": {
        "$ref": "#/$defs/Section"
      },
      "title": "Sections",
      "type": "array"
    }
  },
  "required": [
    "id",
    "title"
  ],
  "title": "Course",
  "type": "object"
}